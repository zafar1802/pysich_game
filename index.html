<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Psychic Game</title>

</head>

<body>

    <h1>The Psychic Game</h1>

    <p>Guess what letter I'm thinking of</p>

    <div id="stats">

    <p>Wins: <span id="wins">0</span></p>

    <p>Losses: <span id="losses">0</span></p>

    <p>Guesses left: <span id="tries">9</span></p>

    <p>Your guesses so far: <span id="myguess"></span></p>

    </div>

<script>

     var alphabet = "abcdefghijklmnopqrstuvwxyz"

     class PsychicGame {

         constructor () {

             this.wins = 0

             this.losses = 0

             this.triesleft = 9

             this.myguess = []

             this.computerGuess = null;

             this.restartGame()

         }

         letComputerGuess () {
            this.computerGuess = alphabet[Math.floor(Math.random() * alphabet.length)];
         }

         incrementWins () {
             this.wins++;
             this.restartGame()
         }

         incrementLosses() {
             this.losses++
             this.restartGame()
         }
         


         restartGame (){

                 this.triesleft = 9

                 this.myguess =[]

                 this.letComputerGuess()
            }

            

         

         showCurrentStats(){

            document.getElementById("wins").innerHTML = this.wins

            document.getElementById("losses").innerHTML = this.losses
            
            document.getElementById("tries").innerHTML = this.triesleft

            document.getElementById("myguess").innerHTML = this.myguess
         }

         decrementTries(){
             this.triesleft--
         }

        pushMyGuess(guess) {
            this.myguess.push(guess)
        }
         
     }

     var game = new PsychicGame()

     document.onkeyup = function(e) {
         if (e.key === game.computerGuess) {
            game.incrementWins()
         } else {
             game.decrementTries()
             game.pushMyGuess(e.key)
             if (game.triesleft === 0) {
                 game.incrementLosses()
             }
         }

         

         game.showCurrentStats()
     }

     
</script>

    

</body>

</html>


